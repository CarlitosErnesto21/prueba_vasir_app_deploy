import{E as i,c,d as m,e,j as g,t as l}from"./vendor-BOi6Gr0G.js";const y={class:"font-semibold text-gray-800 mb-2 sm:mb-3 flex flex-col sm:flex-row sm:items-center justify-between text-sm sm:text-base"},h={class:"flex gap-2 self-start sm:self-auto"},v={class:"bg-blue-100 text-blue-700 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-bold"},w={class:"bg-red-100 text-red-700 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-bold"},_={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 bg-gray-50 p-3 sm:p-4 rounded-lg"},S={class:"flex justify-center gap-2 sm:gap-3"},j=["disabled"],M={class:"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-300 rounded-lg text-sm sm:text-base font-medium min-w-[3rem] sm:min-w-[4rem] justify-center"},A=["disabled"],C={class:"flex justify-center gap-2 sm:gap-3"},k=["disabled"],N={class:"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-300 rounded-lg text-sm sm:text-base font-medium min-w-[3rem] sm:min-w-[4rem] justify-center"},T=["disabled"],$={key:0,class:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 p-4 sm:p-5 rounded-xl mt-4 sm:mt-5 shadow-sm"},B={class:"bg-white rounded-lg p-3 sm:p-4 shadow-sm"},D={class:"space-y-3"},L={class:"flex justify-between items-start"},E={class:"flex-1"},P={class:"font-semibold text-gray-800 text-sm sm:text-base"},R={class:"text-gray-600 text-xs sm:text-sm"},V={class:"flex justify-between items-center"},q={class:"font-bold text-gray-800 text-sm sm:text-base"},O={class:"bg-red-50 border border-red-200 rounded-lg p-3 mt-3"},z={class:"flex justify-between items-center"},F={class:"text-red-800 font-bold text-xl sm:text-2xl"},G={class:"text-red-600 text-xs sm:text-sm mt-1 opacity-80"},I={__name:"SelectorCupos",props:{cuposAdultos:{type:Number,default:1},cuposMenores:{type:Number,default:0},tourSeleccionado:{type:Object,default:null}},emits:["update:cuposAdultos","update:cuposMenores","mostrar-toast"],setup(t,{emit:u}){const o=t,r=u,d=i(()=>{const n=Number(o.cuposAdultos)||0,s=Number(o.cuposMenores)||0;return n+s}),a=i(()=>{var n,s;return((n=o.tourSeleccionado)==null?void 0:n.cupos_disponibles)!==null&&((s=o.tourSeleccionado)==null?void 0:s.cupos_disponibles)!==void 0?o.tourSeleccionado.cupos_disponibles:0}),p=()=>{const n=d.value+1;o.cuposAdultos<20&&n<=a.value?r("update:cuposAdultos",o.cuposAdultos+1):n>a.value&&r("mostrar-toast",{severity:"warn",summary:"Cupos insuficientes",detail:`Solo hay ${a.value} cupos disponibles para este tour.`,life:4e3})},b=()=>{o.cuposAdultos>1&&r("update:cuposAdultos",o.cuposAdultos-1)},x=()=>{const n=d.value+1;o.cuposMenores<20&&n<=a.value?r("update:cuposMenores",o.cuposMenores+1):n>a.value&&r("mostrar-toast",{severity:"warn",summary:"Cupos insuficientes",detail:`Solo hay ${a.value} cupos disponibles para este tour.`,life:4e3})},f=()=>{o.cuposMenores>0&&r("update:cuposMenores",o.cuposMenores-1)};return(n,s)=>(m(),c("div",null,[e("h4",y,[s[0]||(s[0]=e("span",{class:"flex items-center mb-1 sm:mb-0"},[e("span",{class:"text-base sm:text-lg mr-1 sm:mr-2"},"üë•"),e("span",{class:"hidden sm:inline"},"Cupos a reservar"),e("span",{class:"sm:hidden"},"Cupos")],-1)),e("div",h,[e("span",v," Disponibles: "+l(a.value),1),e("span",w," Total: "+l(d.value),1)])]),e("div",_,[e("div",null,[s[1]||(s[1]=e("label",{class:"flex items-center text-xs sm:text-sm font-semibold mb-1 sm:mb-2 text-gray-700"},[e("span",{class:"mr-1 sm:mr-2"},"üßë"),e("span",{class:"hidden sm:inline"},"Mayores de edad"),e("span",{class:"sm:hidden"},"Adultos")],-1)),e("div",S,[e("button",{type:"button",onClick:b,disabled:t.cuposAdultos<=1,class:"bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors font-bold text-sm sm:text-base"}," - ",8,j),e("span",M,l(t.cuposAdultos),1),e("button",{type:"button",onClick:p,disabled:t.cuposAdultos>=20,class:"bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors font-bold text-sm sm:text-base"}," + ",8,A)])]),e("div",null,[s[2]||(s[2]=e("label",{class:"flex items-center text-xs sm:text-sm font-semibold mb-1 sm:mb-2 text-gray-700"},[e("span",{class:"mr-1 sm:mr-2"},"üßí"),e("span",{class:"hidden sm:inline"},"Menores de edad"),e("span",{class:"sm:hidden"},"Ni√±os")],-1)),e("div",C,[e("button",{type:"button",onClick:f,disabled:t.cuposMenores<=0,class:"bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors font-bold text-sm sm:text-base"}," - ",8,k),e("span",N,l(t.cuposMenores),1),e("button",{type:"button",onClick:x,disabled:t.cuposMenores>=20,class:"bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors font-bold text-sm sm:text-base"}," + ",8,T)]),s[3]||(s[3]=e("p",{class:"text-xs text-amber-600 mt-1 sm:mt-2 flex items-center justify-center sm:justify-start"},[e("span",{class:"mr-1"},"‚ö†Ô∏è"),e("span",{class:"hidden sm:inline"},"Presentar permiso firmado de padre/madre"),e("span",{class:"sm:hidden"},"Requiere permiso de los padres")],-1))])]),t.tourSeleccionado?(m(),c("div",$,[s[7]||(s[7]=e("h5",{class:"font-bold text-red-800 mb-3 sm:mb-4 flex items-center text-sm sm:text-base"},[e("span",{class:"mr-2 text-lg"},"üí∞"),e("span",null,"Resumen de reserva")],-1)),e("div",B,[e("div",D,[e("div",L,[e("div",E,[e("p",P,l(t.tourSeleccionado.nombre),1),e("p",R,"Precio por persona: $"+l((t.tourSeleccionado.precio||t.tourSeleccionado.precio_adulto||0).toLocaleString()),1)])]),s[6]||(s[6]=e("hr",{class:"border-gray-200"},null,-1)),e("div",V,[s[4]||(s[4]=e("span",{class:"text-gray-700 font-medium text-sm sm:text-base"},"Total de cupos:",-1)),e("span",q,l(d.value),1)]),e("div",O,[e("div",z,[s[5]||(s[5]=e("span",{class:"text-red-800 font-bold text-base sm:text-lg"},"Total a pagar:",-1)),e("span",F,"$"+l(((t.tourSeleccionado.precio||t.tourSeleccionado.precio_adulto||0)*d.value).toLocaleString()),1)]),e("p",G,l(d.value)+" "+l(d.value===1?"cupo":"cupos")+" √ó $"+l((t.tourSeleccionado.precio||t.tourSeleccionado.precio_adulto||0).toLocaleString()),1)])])])])):g("",!0)]))}};export{I as default};
