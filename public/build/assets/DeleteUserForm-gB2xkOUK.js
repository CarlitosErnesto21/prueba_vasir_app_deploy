import{c as m,d as f,f as w,r as x,w as M,o as B,ac as E,E as $,e,p as r,x as u,v as y,C as b,B as k,y as C,j as L,_ as S,a2 as j,q as g,D as z,$ as c,t as D,n as V}from"./vendor-BOi6Gr0G.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as T,a as N,b as I}from"./TextInput-DS6xgZXZ.js";const W={},q={class:"inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700"};function A(a,n){return f(),m("button",q,[w(a.$slots,"default")])}const _=U(W,[["render",A]]),F={class:"fixed inset-0 z-50 overflow-y-auto px-4 py-6 sm:px-0","scroll-region":""},K={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(a,{emit:n}){const o=a,i=n,t=x(),p=x(o.show);M(()=>o.show,()=>{var s;o.show?(document.body.style.overflow="hidden",p.value=!0,(s=t.value)==null||s.showModal()):(document.body.style.overflow="",setTimeout(()=>{var l;(l=t.value)==null||l.close(),p.value=!1},200))});const v=()=>{o.closeable&&i("close")},d=s=>{s.key==="Escape"&&(s.preventDefault(),o.show&&v())};B(()=>document.addEventListener("keydown",d)),E(()=>{document.removeEventListener("keydown",d),document.body.style.overflow=""});const h=$(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[o.maxWidth]);return(s,l)=>(f(),m("dialog",{class:"z-50 m-0 min-h-full min-w-full overflow-y-auto bg-transparent backdrop:bg-transparent",ref_key:"dialog",ref:t},[e("div",F,[r(k,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:u(()=>[y(e("div",{class:"fixed inset-0 transform transition-all",onClick:v},l[0]||(l[0]=[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)]),512),[[b,a.show]])]),_:1}),r(k,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:u(()=>[y(e("div",{class:C(["mb-6 transform overflow-hidden rounded-lg bg-white shadow-xl transition-all sm:mx-auto sm:w-full",h.value])},[p.value?w(s.$slots,"default",{key:0}):L("",!0)],2),[[b,a.show]])]),_:3})])],512))}},P=["type"],H={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(a){return(n,o)=>(f(),m("button",{type:a.type,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25"},[w(n.$slots,"default")],8,P))}},O={class:"bg-white"},Z={class:"text-center"},G={class:"bg-white rounded-lg shadow-xl max-w-md mx-auto"},J={class:"p-6"},Q={class:"space-y-4"},R={class:"relative"},X={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ee={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6"},re={__name:"DeleteUserForm",setup(a){const n=x(!1),o=x(null),i=x(!1),t=S({password:""}),p=()=>{n.value=!0,V(()=>o.value.focus())},v=()=>{t.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>d(),onError:()=>o.value.focus(),onFinish:()=>t.reset()})},d=()=>{n.value=!1,t.clearErrors(),t.reset()};return(h,s)=>(f(),m("section",O,[s[8]||(s[8]=j('<div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6"><div class="flex items-start space-x-3"><div class="flex-shrink-0"><div class="bg-red-100 rounded-full p-2"><svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div></div><div class="flex-1"><h3 class="text-sm font-semibold text-red-900 mb-2">⚠️ Zona de Peligro</h3><p class="text-red-800 text-sm leading-relaxed mb-3"> Una vez eliminada tu cuenta, todos los recursos y datos serán eliminados permanentemente. Descarga cualquier información importante antes de proceder. </p><div class="bg-white bg-opacity-60 rounded-md p-3 border-l-2 border-red-500"><p class="text-red-900 font-medium text-xs"> Esta acción no se puede deshacer. Todos tus datos se perderán permanentemente. </p></div></div></div></div>',1)),e("div",Z,[r(_,{onClick:p,class:"inline-flex items-center px-6 py-2.5 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors"},{default:u(()=>s[2]||(s[2]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),g(" Eliminar Mi Cuenta ")])),_:1,__:[2]})]),r(K,{show:n.value,onClose:d},{default:u(()=>[e("div",G,[s[7]||(s[7]=e("div",{class:"bg-red-600 rounded-t-lg px-6 py-4"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"flex-shrink-0 w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])]),e("div",null,[e("h2",{class:"text-lg font-semibold text-white"},"Confirmar Eliminación"),e("p",{class:"text-red-100 text-sm"},"Esta acción es irreversible")])])],-1)),e("div",J,[s[6]||(s[6]=e("div",{class:"bg-red-50 border-l-2 border-red-400 p-4 mb-6 rounded-r-md"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-4 h-4 text-red-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])]),e("div",{class:"ml-3"},[e("p",{class:"text-red-800 text-sm leading-relaxed"}," Una vez eliminada tu cuenta, todos los recursos y datos serán eliminados permanentemente. Ingresa tu contraseña para confirmar esta acción. ")])])],-1)),e("div",Q,[r(T,{for:"password",value:"Confirma con tu contraseña:",class:"text-gray-700 font-medium text-sm"}),e("div",R,[r(N,{id:"password",ref_key:"passwordInput",ref:o,modelValue:c(t).password,"onUpdate:modelValue":s[0]||(s[0]=l=>c(t).password=l),type:i.value?"text":"password",class:"w-full border border-red-300 rounded-lg px-3 py-2.5 pr-10 text-gray-900 text-sm focus:border-red-500 focus:ring-2 focus:ring-red-100 hover:border-red-400 transition-colors bg-red-50 focus:bg-white placeholder-gray-500",placeholder:"Tu contraseña actual",onKeyup:z(v,["enter"])},null,8,["modelValue","type"]),e("button",{type:"button",onClick:s[1]||(s[1]=l=>i.value=!i.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-red-400 hover:text-red-600 transition-colors"},[i.value?(f(),m("svg",Y,s[4]||(s[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(f(),m("svg",X,s[3]||(s[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),r(I,{message:c(t).errors.password,class:"text-red-600 text-sm"},null,8,["message"])]),e("div",ee,[r(H,{onClick:d,class:"px-4 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300 transition-colors border border-gray-300"},{default:u(()=>s[5]||(s[5]=[g(" Cancelar ")])),_:1,__:[5]}),r(_,{class:C([{"opacity-50":c(t).processing},"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"]),disabled:c(t).processing,onClick:v},{default:u(()=>[g(D(c(t).processing?"Eliminando...":"Sí, Eliminar"),1)]),_:1},8,["class","disabled"])])])])]),_:1},8,["show"])]))}};export{re as default};
