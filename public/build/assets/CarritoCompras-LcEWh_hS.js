import{c as l,j as u,$ as t,d as c,e,p as a,q as m,t as d,F as y,l as h,I as v}from"./vendor-BOi6Gr0G.js";import{u as C}from"./carrito-C1RJZYIb.js";import{A as i}from"./ui-BibPgP1I.js";import{I as _}from"./ImageWithFallback-B9m-8y9a.js";import{a8 as k,d as w,a9 as $,aa as j,a as S,u as f,ab as F}from"./index-Btbp3Gjs.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-DwNVHcDl.js";const V={class:"absolute right-0 top-0 h-full w-full max-w-md transform transition-transform carrito-panel"},E={class:"flex h-full flex-col bg-white shadow-xl"},N={class:"flex items-center justify-between border-b border-gray-200 px-6 py-4"},P={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},A={class:"px-6 py-2 bg-blue-50 border-b border-blue-100"},B={class:"text-sm text-blue-800"},D={class:"flex-1 overflow-y-auto px-6 py-4 carrito-scroll"},T={key:0,class:"flex flex-col items-center justify-center h-full text-center empty-state"},U={key:1,class:"space-y-4"},W={class:"flex-shrink-0 w-16 h-16 producto-imagen"},z={class:"flex-1 min-w-0"},M={class:"text-sm font-medium text-gray-900 truncate"},q={class:"text-sm text-blue-600 font-semibold"},L={class:"text-xs text-gray-500 whitespace-nowrap"},X={class:"flex items-center gap-2"},G=["onClick","disabled"],H={class:"w-8 text-center text-sm font-medium"},J=["onClick","disabled"],K=["onClick"],O={key:0,class:"px-6 py-3 border-t border-gray-100"},Q={key:1,class:"border-t border-gray-200 px-6 py-4 space-y-4"},R={class:"flex items-center justify-between"},Y={class:"text-xl font-bold text-blue-600 total-badge"},Z={class:"space-y-2"},tt={__name:"CarritoCompras",setup(et){const s=C(),b=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),x=()=>{},g=n=>n.imagen?n.imagen.startsWith("http")||n.imagen.startsWith("data:")?n.imagen:`/storage/productos/${n.imagen}`:null;return(n,o)=>t(s).isVisible?(c(),l("div",{key:0,class:"fixed inset-0 z-[10000] overflow-hidden carrito-overlay",onClick:o[5]||(o[5]=v(r=>t(s).ocultarCarrito(),["self"]))},[e("div",{class:"absolute inset-0 bg-black bg-opacity-50 transition-opacity cursor-pointer fondo-clickeable",onClick:o[0]||(o[0]=r=>t(s).ocultarCarrito())}),e("div",V,[e("div",E,[e("div",N,[e("h2",P,[a(t(i),{icon:t(k),class:"text-blue-600"},null,8,["icon"]),o[6]||(o[6]=m(" Carrito de Compras "))]),e("button",{onClick:o[1]||(o[1]=r=>t(s).ocultarCarrito()),class:"text-gray-400 hover:text-gray-600 transition-colors"},[a(t(i),{icon:t(w),class:"w-6 h-6"},null,8,["icon"])])]),e("div",A,[e("p",B,d(t(s).itemCount)+" "+d(t(s).itemCount===1?"producto":"productos")+" en tu carrito ",1)]),e("div",D,[t(s).isEmpty?(c(),l("div",T,[a(t(i),{icon:t($),class:"w-16 h-16 text-gray-300 mb-4"},null,8,["icon"]),o[7]||(o[7]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Tu carrito está vacío",-1)),o[8]||(o[8]=e("p",{class:"text-gray-500 mb-6"},"Agrega algunos productos para comenzar",-1)),e("button",{onClick:o[2]||(o[2]=r=>t(s).ocultarCarrito()),class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-colors"}," Continuar Comprando ")])):(c(),l("div",U,[(c(!0),l(y,null,h(t(s).items,r=>(c(),l("div",{key:r.id,class:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors producto-item"},[e("div",W,[a(_,{src:g(r),alt:r.nombre,"fallback-text":r.nombre,"container-class":"w-full h-full","image-class":"w-full h-full object-cover rounded-md border border-gray-200"},null,8,["src","alt","fallback-text"])]),e("div",z,[e("h4",M,d(r.nombre),1),e("p",q,d(b(r.precio)),1),e("p",L," Stock: "+d(r.stock_actual),1)]),e("div",X,[e("button",{onClick:p=>t(s).decrementarCantidad(r.id),class:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors cantidad-btn",disabled:r.cantidad<=1},[a(t(i),{icon:t(j),class:"w-3 h-3"},null,8,["icon"])],8,G),e("span",H,d(r.cantidad),1),e("button",{onClick:p=>t(s).incrementarCantidad(r.id),class:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors cantidad-btn",disabled:r.cantidad>=r.stock_actual},[a(t(i),{icon:t(S),class:"w-3 h-3"},null,8,["icon"])],8,J)]),e("button",{onClick:p=>t(s).eliminarProducto(r.id),class:"p-2 text-red-400 hover:text-red-600 transition-colors btn-eliminar",title:"Eliminar producto"},[a(t(i),{icon:t(f),class:"w-4 h-4"},null,8,["icon"])],8,K)]))),128))]))]),t(s).isEmpty?u("",!0):(c(),l("div",O,[e("button",{onClick:o[3]||(o[3]=r=>t(s).limpiarCarrito()),class:"w-full text-red-500 hover:text-red-700 hover:bg-red-50 py-2 px-4 text-sm transition-colors flex items-center justify-center gap-2 rounded-md border border-red-200 hover:border-red-300"},[a(t(i),{icon:t(f),class:"w-4 h-4"},null,8,["icon"]),o[9]||(o[9]=m(" Vaciar Carrito "))])])),t(s).isEmpty?u("",!0):(c(),l("div",Q,[e("div",R,[o[10]||(o[10]=e("span",{class:"text-lg font-semibold text-gray-900"},"Total:",-1)),e("span",Y,d(b(t(s).totalPrice)),1)]),e("div",Z,[e("button",{onClick:x,class:"w-full text-white py-3 px-4 rounded-md transition-colors flex items-center justify-center gap-2 font-medium btn-checkout"},[a(t(i),{icon:t(F)},null,8,["icon"]),o[11]||(o[11]=m(" Proceder al Checkout "))]),e("button",{onClick:o[4]||(o[4]=r=>t(s).ocultarCarrito()),class:"w-full text-white py-2 px-4 rounded-md transition-colors btn-continuar"}," Continuar Comprando ")])]))])])])):u("",!0)}},ct=I(tt,[["__scopeId","data-v-70abfa0e"]]);export{ct as default};
