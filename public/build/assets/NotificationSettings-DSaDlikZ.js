import{w as N,c as k,d as g,a2 as E,e as t,p as V,v as d,a9 as c,$ as s,a5 as U,h as M,j,q as B,t as R,R as T}from"./vendor-BOi6Gr0G.js";import{A as q}from"./ui-BibPgP1I.js";import{q as D}from"./index-Btbp3Gjs.js";import{u as G}from"./useUnsavedChanges-KICSwIyp.js";import A from"./UnsavedChangesModal-DD-4TYnm.js";const F={class:"bg-white rounded-lg shadow-lg overflow-hidden"},P={class:"p-4 lg:p-6"},W={class:"grid grid-cols-1 xl:grid-cols-2 gap-4 lg:gap-6"},$={class:"space-y-3 lg:space-y-4"},I={class:"flex items-center p-3 lg:p-4 bg-gray-50 rounded-lg border border-gray-200"},O={class:"flex items-center p-3 lg:p-4 bg-gray-50 rounded-lg border border-gray-200"},z={class:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 lg:mt-8 pt-4 lg:pt-6 border-t border-gray-200"},H=["disabled"],J=["disabled"],Z={__name:"NotificationSettings",props:{settings:{type:Object,required:!0},isSaving:{type:Boolean,default:!1}},emits:["save","reset","unsaved-changes"],setup(r,{emit:m}){const x=r,n=m,u=async i=>{n("save",i)},{hasUnsavedChanges:p,showUnsavedModal:l,currentFormData:o,canSave:b,canReset:f,saveChanges:v,resetChanges:y,confirmExit:h,cancelExit:w}=G(x.settings,u),S=async()=>{try{await v()}catch(i){console.error("Error al guardar configuración de notificaciones:",i)}},C=()=>{y(),n("reset")};return N(p,i=>{n("unsaved-changes",i)},{immediate:!0}),(i,e)=>(g(),k("div",F,[e[10]||(e[10]=E('<div class="bg-gradient-to-r from-red-600 to-red-700 px-4 lg:px-6 py-3 lg:py-4"><h1 class="text-lg sm:text-xl lg:text-2xl font-bold text-white flex items-center"><span class="text-lg sm:text-xl lg:text-2xl mr-2 lg:mr-3">📧</span><span class="hidden sm:inline">Configuración de Notificaciones</span><span class="sm:hidden">Notificaciones</span></h1><p class="text-red-100 mt-1 lg:mt-2 text-xs sm:text-sm lg:text-base">Gestión de comunicaciones y servicios de mensajería</p></div>',1)),t("div",P,[t("div",W,[t("div",$,[e[6]||(e[6]=t("h3",{class:"text-base lg:text-lg font-medium text-gray-800 mb-2 lg:mb-3"},"Tipos de Notificaciones",-1)),t("div",I,[d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s(o).emailNotifications=a),type:"checkbox",class:"h-4 w-4 lg:h-5 lg:w-5 text-red-600 focus:ring-red-500 border-gray-300 rounded"},null,512),[[c,s(o).emailNotifications]]),e[4]||(e[4]=t("label",{class:"ml-2 lg:ml-3 text-xs sm:text-sm font-medium text-gray-700"}," Enviar notificaciones por email ",-1))]),t("div",O,[d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s(o).smsNotifications=a),type:"checkbox",class:"h-4 w-4 lg:h-5 lg:w-5 text-red-600 focus:ring-red-500 border-gray-300 rounded"},null,512),[[c,s(o).smsNotifications]]),e[5]||(e[5]=t("label",{class:"ml-2 lg:ml-3 text-xs sm:text-sm font-medium text-gray-700"}," Enviar notificaciones por SMS ",-1))])]),t("div",null,[e[9]||(e[9]=t("h3",{class:"text-base lg:text-lg font-medium text-gray-800 mb-2 lg:mb-3"},"Configuración SMTP",-1)),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-2"}," Servidor SMTP ",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s(o).smtpServer=a),type:"text",class:"w-full px-3 lg:px-4 py-2 text-sm lg:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent shadow-sm",placeholder:"smtp.gmail.com"},null,512),[[U,s(o).smtpServer]]),e[8]||(e[8]=t("p",{class:"text-xs text-gray-500 mt-1"},"Servidor para envío de correos electrónicos",-1))])])]),t("div",z,[t("button",{onClick:C,disabled:!s(f)||r.isSaving,class:"w-full sm:w-auto px-4 lg:px-6 py-2 text-sm lg:text-base border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors duration-200"}," Restablecer ",8,H),t("button",{onClick:S,disabled:!s(b)||r.isSaving,class:"w-full sm:w-auto px-4 lg:px-6 py-2 text-sm lg:text-base bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center"},[r.isSaving?(g(),M(s(q),{key:0,icon:s(D),class:"animate-spin mr-2"},null,8,["icon"])):j("",!0),B(" "+R(r.isSaving?"Guardando...":"Guardar Configuración"),1)],8,J)])]),V(A,{visible:s(l),"onUpdate:visible":e[3]||(e[3]=a=>T(l)?l.value=a:null),onContinueEditing:s(w),onExitWithoutSaving:s(h)},null,8,["visible","onContinueEditing","onExitWithoutSaving"])]))}};export{Z as default};
