import{h as w,d as r,x as l,e as t,c as a,j as p,q as d,t as f,p as u,$ as i,a3 as b}from"./vendor-BOi6Gr0G.js";import{A as c,g as h}from"./ui-BibPgP1I.js";import{N as k,x as S,d as N}from"./index-Btbp3Gjs.js";const _={class:"text-lg font-bold text-red-700"},C={key:0},j={key:1},A={key:2},B={class:"text-center py-6"},O={class:"text-gray-600 mb-2"},U={key:0},D={key:1},P={key:2},V={key:0,class:"bg-blue-50 rounded-lg p-3 mb-6 text-left"},z={class:"text-sm text-blue-800"},J={key:1,class:"bg-green-50 rounded-lg p-3 mb-6 text-left"},T={class:"text-sm text-green-800"},M={class:"space-y-3"},R={class:"flex justify-center items-center w-full"},H={__name:"ModalAuthRequerido",props:{visible:{type:Boolean,default:!1},tourInfo:{type:Object,default:null},productoInfo:{type:Object,default:null}},emits:["update:visible"],setup(s,{emit:g}){const o=s,m=g,x=()=>{m("update:visible",!1)},I=()=>{if(o.tourInfo){const n={tourId:o.tourInfo.id,tourNombre:o.tourInfo.nombre,returnUrl:window.location.pathname};sessionStorage.setItem("tour_reserva_pendiente",JSON.stringify(n)),sessionStorage.setItem("reserva_session_activa","true")}if(o.productoInfo){const n={productoId:o.productoInfo.id,productoNombre:o.productoInfo.nombre,returnUrl:window.location.pathname};sessionStorage.setItem("producto_compra_pendiente",JSON.stringify(n)),sessionStorage.setItem("compra_session_activa","true")}b.visit("/login")},v=()=>{if(o.tourInfo){const n={tourId:o.tourInfo.id,tourNombre:o.tourInfo.nombre,returnUrl:window.location.pathname};sessionStorage.setItem("tour_reserva_pendiente",JSON.stringify(n)),sessionStorage.setItem("reserva_session_activa","true")}if(o.productoInfo){const n={productoId:o.productoInfo.id,productoNombre:o.productoInfo.nombre,returnUrl:window.location.pathname};sessionStorage.setItem("producto_compra_pendiente",JSON.stringify(n)),sessionStorage.setItem("compra_session_activa","true")}b.visit("/register")};return(n,e)=>(r(),w(i(h),{visible:s.visible,"onUpdate:visible":e[0]||(e[0]=y=>m("update:visible",y)),modal:"",closable:!1,class:"max-w-md w-full mx-4",draggable:!1},{header:l(()=>[t("h3",_,[s.tourInfo?(r(),a("span",C,"🔐 Inicia Sesión para Reservar")):s.productoInfo?(r(),a("span",j,"🔐 Inicia Sesión para Comprar")):(r(),a("span",A,"🔐 Inicia Sesión para Continuar"))])]),footer:l(()=>[t("div",R,[t("button",{type:"button",class:"bg-white hover:bg-red-50 text-red-600 border border-red-600 px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 mx-auto",onClick:x},[u(i(c),{icon:i(N),class:"h-5 text-red-600"},null,8,["icon"]),e[10]||(e[10]=d(" Cerrar "))])])]),default:l(()=>[t("div",B,[e[8]||(e[8]=t("div",{class:"mb-4"},[t("div",{class:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])])],-1)),e[9]||(e[9]=t("h3",{class:"text-xl font-semibold text-gray-900 mb-2"}," ¡Inicia sesión para continuar! ",-1)),t("p",O,[s.tourInfo?(r(),a("span",U,"Para realizar una reserva necesitas tener una cuenta en nuestra plataforma.")):s.productoInfo?(r(),a("span",D,"Para realizar una compra necesitas tener una cuenta en nuestra plataforma.")):(r(),a("span",P,"Para continuar necesitas tener una cuenta en nuestra plataforma."))]),s.tourInfo?(r(),a("div",V,[t("p",z,[e[1]||(e[1]=t("strong",null,"Tour seleccionado:",-1)),d(" "+f(s.tourInfo.nombre),1)]),e[2]||(e[2]=t("p",{class:"text-xs text-blue-600 mt-1"}," Te redirigiremos automáticamente a la reserva después del login. ",-1))])):p("",!0),s.productoInfo?(r(),a("div",J,[t("p",T,[e[3]||(e[3]=t("strong",null,"Producto seleccionado:",-1)),d(" "+f(s.productoInfo.nombre),1)]),e[4]||(e[4]=t("p",{class:"text-xs text-green-600 mt-1"}," Te redirigiremos automáticamente a la compra después del login. ",-1))])):p("",!0),t("div",M,[t("button",{type:"button",class:"bg-red-600 hover:bg-red-700 text-white border border-red-600 w-full py-3 px-6 justify-center rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:I},[u(i(c),{icon:i(k),class:"h-4 text-white"},null,8,["icon"]),e[5]||(e[5]=d(" Iniciar Sesión "))]),e[7]||(e[7]=t("div",{class:"text-sm text-gray-500"}," ¿No tienes cuenta? ",-1)),t("button",{type:"button",class:"bg-white hover:bg-red-50 text-red-600 border border-red-600 w-full py-3 px-6 justify-center rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:v},[u(i(c),{icon:i(S),class:"h-4 text-red-600"},null,8,["icon"]),e[6]||(e[6]=d(" Crear Cuenta Nueva "))])])])]),_:1},8,["visible"]))}};export{H as default};
