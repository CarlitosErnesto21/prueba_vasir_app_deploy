import{E as f,k as v,c,d as o,e as t,h as g,t as n,x as i,p as m,j as p,q as y,y as $,F as h}from"./vendor-BOi6Gr0G.js";const E={class:"bg-white rounded-lg shadow overflow-hidden border border-gray-200"},F={class:"px-4 py-3 bg-gray-50 border-b"},T={class:"text-lg font-semibold text-blue-600"},N={key:0,class:"p-8 text-center"},S={key:1,class:"p-8 text-center text-gray-500"},D={class:"capitalize"},B={class:"flex flex-col text-xs"},A={key:0},V={key:1},I={class:"flex gap-1 flex-wrap"},j=["onClick"],q=["onClick"],L=["onClick"],M=["onClick"],O=["onClick"],U=["onClick"],G=["onClick"],K={__name:"TablaReservasIndividuales",props:{reservas:{type:Array,default:()=>[]},filtroTipo:{type:String,default:"tours"},tipoEstado:{type:String,default:"pendientes"},loading:{type:Boolean,default:!1}},emits:["confirmarReserva","rechazarReserva","reprogramarReserva","finalizarReserva"],setup(d,{emit:H}){const b=d,C=f(()=>`Reservas ${{pendientes:"pendientes por confirmar",confirmadas:"confirmadas",rechazadas:"rechazadas",reprogramadas:"reprogramadas"}[b.tipoEstado]||""}`),w=r=>({Pendiente:"bg-yellow-100 text-yellow-800",Confirmado:"bg-green-100 text-green-800",Rechazada:"bg-red-100 text-red-800",Reprogramada:"bg-blue-100 text-blue-800",Finalizada:"bg-gray-100 text-gray-800"})[r]||"bg-gray-100 text-gray-800",k=r=>r?new Date(r).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",z=r=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(r||0),R=f(()=>b.tipoEstado!=="rechazadas");return(r,a)=>{const l=v("Column"),_=v("DataTable");return o(),c("div",E,[t("div",F,[t("h4",T,n(C.value),1)]),d.loading?(o(),c("div",N,a[0]||(a[0]=[t("div",{class:"inline-flex items-center"},[t("i",{class:"pi pi-spin pi-spinner text-2xl text-red-600 mr-3"}),t("span",{class:"text-gray-600"},"Cargando reservas...")],-1)]))):d.reservas.length===0?(o(),c("div",S,[a[1]||(a[1]=t("i",{class:"pi pi-inbox text-4xl text-gray-300 block mb-2"},null,-1)),t("span",null,"No hay reservas "+n(d.tipoEstado)+" en este rango de fechas",1)])):(o(),g(_,{key:2,value:d.reservas,rows:10,paginator:d.reservas.length>10,rowsPerPageOptions:[10,20,50],class:"border-0",pt:{table:{class:"w-full"},header:{class:"bg-gray-50 border-b"},tbody:{class:"divide-y divide-gray-200"}}},{default:i(()=>[m(l,{field:"tipo",header:"Tipo",pt:{headerCell:{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},bodyCell:{class:"px-4 py-4 text-sm text-gray-900"}}},{body:i(e=>[t("span",D,n(e.data.tipo),1)]),_:1}),m(l,{header:"Nombre",pt:{headerCell:{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},bodyCell:{class:"px-4 py-4 text-sm font-medium text-gray-900"}}},{body:i(e=>{var s,u,x;return[y(n(((s=e.data.tour)==null?void 0:s.nombre)||((u=e.data.hotel)==null?void 0:u.nombre)||((x=e.data.aerolinea)==null?void 0:x.nombre)||"-"),1)]}),_:1}),m(l,{header:"Cliente",pt:{headerCell:{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},bodyCell:{class:"px-4 py-4 text-sm text-gray-900"}}},{body:i(e=>{var s,u,x;return[y(n(((u=(s=e.data.cliente)==null?void 0:s.user)==null?void 0:u.name)||((x=e.data.cliente)==null?void 0:x.nombres)||"-"),1)]}),_:1}),m(l,{header:"Fecha",pt:{headerCell:{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},bodyCell:{class:"px-4 py-4 text-sm text-gray-900"}}},{body:i(e=>[y(n(k(e.data.fecha_reserva)),1)]),_:1}),m(l,{header:"Cupos",pt:{headerCell:{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},bodyCell:{class:"px-4 py-4 text-sm text-gray-900"}}},{body:i(e=>[t("div",B,[e.data.cupos_adultos?(o(),c("span",A," Adultos: "+n(e.data.cupos_adultos),1)):p("",!0),e.data.cupos_menores?(o(),c("span",V," Menores: "+n(e.data.cupos_menores),1)):p("",!0)])]),_:1}),m(l,{header:"Precio Total",pt:{headerCell:{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},bodyCell:{class:"px-4 py-4 text-sm font-medium text-gray-900"}}},{body:i(e=>[y(n(z(e.data.precio_total)),1)]),_:1}),d.tipoEstado!=="rechazadas"?(o(),g(l,{key:0,header:"Estado",pt:{headerCell:{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},bodyCell:{class:"px-4 py-4 text-sm text-gray-900"}}},{body:i(e=>[t("span",{class:$(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",w(e.data.estado)])},n(e.data.estado),3)]),_:1})):p("",!0),R.value?(o(),g(l,{key:1,header:"Acciones",pt:{headerCell:{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},bodyCell:{class:"px-4 py-4 text-sm text-gray-900"}}},{body:i(e=>[t("div",I,[d.tipoEstado==="pendientes"&&e.data.estado==="Pendiente"?(o(),c(h,{key:0},[t("button",{class:"bg-green-500 border border-green-500 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 p-2",onClick:s=>r.$emit("confirmarReserva",e.data),title:"Confirmar"},a[2]||(a[2]=[t("i",{class:"pi pi-check"},null,-1)]),8,j),t("button",{class:"bg-red-500 border border-red-500 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 p-2",onClick:s=>r.$emit("rechazarReserva",e.data),title:"Rechazar"},a[3]||(a[3]=[t("i",{class:"pi pi-times"},null,-1)]),8,q)],64)):p("",!0),d.tipoEstado==="confirmadas"?(o(),c(h,{key:1},[t("button",{class:"bg-red-500 border border-red-500 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 p-2",onClick:s=>r.$emit("rechazarReserva",e.data),title:"Rechazar"},a[4]||(a[4]=[t("i",{class:"pi pi-times"},null,-1)]),8,L),t("button",{class:"bg-blue-500 border border-blue-500 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 p-2",onClick:s=>r.$emit("reprogramarReserva",e.data),title:"Reprogramar"},a[5]||(a[5]=[t("i",{class:"pi pi-refresh"},null,-1)]),8,M),t("button",{class:"bg-green-500 border border-green-500 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 p-2",onClick:s=>r.$emit("finalizarReserva",e.data),title:"Finalizar"},a[6]||(a[6]=[t("i",{class:"pi pi-check-circle"},null,-1)]),8,O)],64)):p("",!0),d.tipoEstado==="reprogramadas"?(o(),c(h,{key:2},[t("button",{class:"bg-red-500 border border-red-500 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 p-2",onClick:s=>r.$emit("rechazarReserva",e.data),title:"Rechazar"},a[7]||(a[7]=[t("i",{class:"pi pi-times"},null,-1)]),8,U),t("button",{class:"bg-green-500 border border-green-500 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 p-2",onClick:s=>r.$emit("finalizarReserva",e.data),title:"Finalizar"},a[8]||(a[8]=[t("i",{class:"pi pi-check-circle"},null,-1)]),8,G)],64)):p("",!0)])]),_:1})):p("",!0)]),_:1},8,["value","paginator"]))])}}};export{K as default};
