import{c as i,j as u,$ as t,d as l,e as o,p as n,q as m,t as c,F as g,l as y,I as h}from"./vendor-BOi6Gr0G.js";import{u as v}from"./carrito-p79XP4zq.js";import{A as a}from"./ui-BibPgP1I.js";import{a8 as C,d as _,a9 as k,aa as w,a as j,u as f,ab as $}from"./index-Btbp3Gjs.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-Dc3vrW6t.js";const E={class:"absolute right-0 top-0 h-full w-full max-w-md transform transition-transform carrito-panel"},F={class:"flex h-full flex-col bg-white shadow-xl"},P={class:"flex items-center justify-between border-b border-gray-200 px-6 py-4"},V={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},N={class:"px-6 py-2 bg-blue-50 border-b border-blue-100"},A={class:"text-sm text-blue-800"},B={class:"flex-1 overflow-y-auto px-6 py-4 carrito-scroll"},D={key:0,class:"flex flex-col items-center justify-center h-full text-center empty-state"},I={key:1,class:"space-y-4"},T={class:"flex-shrink-0 w-16 h-16 producto-imagen"},z=["src","alt"],M={class:"flex-1 min-w-0"},U={class:"text-sm font-medium text-gray-900 truncate"},q={class:"text-sm text-blue-600 font-semibold"},L={class:"text-xs text-gray-500 whitespace-nowrap"},X={class:"flex items-center gap-2"},G=["onClick","disabled"],H={class:"w-8 text-center text-sm font-medium"},J=["onClick","disabled"],K=["onClick"],O={key:0,class:"px-6 py-3 border-t border-gray-100"},Q={key:1,class:"border-t border-gray-200 px-6 py-4 space-y-4"},R={class:"flex items-center justify-between"},W={class:"text-xl font-bold text-blue-600 total-badge"},Y={class:"space-y-2"},Z={__name:"CarritoCompras",setup(tt){const s=v(),p=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(b),x=()=>{console.log("Procediendo al checkout con:",s.items)};return(b,e)=>t(s).isVisible?(l(),i("div",{key:0,class:"fixed inset-0 z-[10000] overflow-hidden carrito-overlay",onClick:e[6]||(e[6]=h(r=>t(s).ocultarCarrito(),["self"]))},[o("div",{class:"absolute inset-0 bg-black bg-opacity-50 transition-opacity cursor-pointer fondo-clickeable",onClick:e[0]||(e[0]=r=>t(s).ocultarCarrito())}),o("div",E,[o("div",F,[o("div",P,[o("h2",V,[n(t(a),{icon:t(C),class:"text-blue-600"},null,8,["icon"]),e[7]||(e[7]=m(" Carrito de Compras "))]),o("button",{onClick:e[1]||(e[1]=r=>t(s).ocultarCarrito()),class:"text-gray-400 hover:text-gray-600 transition-colors"},[n(t(a),{icon:t(_),class:"w-6 h-6"},null,8,["icon"])])]),o("div",N,[o("p",A,c(t(s).itemCount)+" "+c(t(s).itemCount===1?"producto":"productos")+" en tu carrito ",1)]),o("div",B,[t(s).isEmpty?(l(),i("div",D,[n(t(a),{icon:t(k),class:"w-16 h-16 text-gray-300 mb-4"},null,8,["icon"]),e[8]||(e[8]=o("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Tu carrito está vacío",-1)),e[9]||(e[9]=o("p",{class:"text-gray-500 mb-6"},"Agrega algunos productos para comenzar",-1)),o("button",{onClick:e[2]||(e[2]=r=>t(s).ocultarCarrito()),class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-colors"}," Continuar Comprando ")])):(l(),i("div",I,[(l(!0),i(g,null,y(t(s).items,r=>(l(),i("div",{key:r.id,class:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors producto-item"},[o("div",T,[o("img",{src:r.imagen,alt:r.nombre,class:"w-full h-full object-cover rounded-md border border-gray-200",onError:e[3]||(e[3]=d=>d.target.src="/images/productos/default.jpg")},null,40,z)]),o("div",M,[o("h4",U,c(r.nombre),1),o("p",q,c(p(r.precio)),1),o("p",L," Stock: "+c(r.stock_actual),1)]),o("div",X,[o("button",{onClick:d=>t(s).decrementarCantidad(r.id),class:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors cantidad-btn",disabled:r.cantidad<=1},[n(t(a),{icon:t(w),class:"w-3 h-3"},null,8,["icon"])],8,G),o("span",H,c(r.cantidad),1),o("button",{onClick:d=>t(s).incrementarCantidad(r.id),class:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors cantidad-btn",disabled:r.cantidad>=r.stock_actual},[n(t(a),{icon:t(j),class:"w-3 h-3"},null,8,["icon"])],8,J)]),o("button",{onClick:d=>t(s).eliminarProducto(r.id),class:"p-2 text-red-400 hover:text-red-600 transition-colors btn-eliminar",title:"Eliminar producto"},[n(t(a),{icon:t(f),class:"w-4 h-4"},null,8,["icon"])],8,K)]))),128))]))]),t(s).isEmpty?u("",!0):(l(),i("div",O,[o("button",{onClick:e[4]||(e[4]=r=>t(s).limpiarCarrito()),class:"w-full text-red-500 hover:text-red-700 hover:bg-red-50 py-2 px-4 text-sm transition-colors flex items-center justify-center gap-2 rounded-md border border-red-200 hover:border-red-300"},[n(t(a),{icon:t(f),class:"w-4 h-4"},null,8,["icon"]),e[10]||(e[10]=m(" Vaciar Carrito "))])])),t(s).isEmpty?u("",!0):(l(),i("div",Q,[o("div",R,[e[11]||(e[11]=o("span",{class:"text-lg font-semibold text-gray-900"},"Total:",-1)),o("span",W,c(p(t(s).totalPrice)),1)]),o("div",Y,[o("button",{onClick:x,class:"w-full text-white py-3 px-4 rounded-md transition-colors flex items-center justify-center gap-2 font-medium btn-checkout"},[n(t(a),{icon:t($)},null,8,["icon"]),e[12]||(e[12]=m(" Proceder al Checkout "))]),o("button",{onClick:e[5]||(e[5]=r=>t(s).ocultarCarrito()),class:"w-full text-white py-2 px-4 rounded-md transition-colors btn-continuar"}," Continuar Comprando ")])]))])])])):u("",!0)}},it=S(Z,[["__scopeId","data-v-04c23e45"]]);export{it as default};
